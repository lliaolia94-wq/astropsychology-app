# Конфигурация астрологических расчетов

## Орбисы аспектов

Орбисы аспектов теперь вынесены в конфигурацию и могут быть изменены через переменные окружения.

### Значения по умолчанию

```python
{
    'conjunction': 8.0,      # Соединение
    'opposition': 8.0,        # Оппозиция
    'trine': 8.0,             # Трин
    'square': 8.0,            # Квадрат
    'sextile': 6.0,           # Секстиль
    'quincunx': 3.0,          # Квинконс (для будущего расширения)
    'semisextile': 2.0,       # Полусекстиль (для будущего расширения)
}
```

### Настройка через переменные окружения

Создайте файл `.env` в корне проекта или установите переменные окружения:

```bash
# Орбисы для основных аспектов
ASPECT_ORB_CONJUNCTION=8.0
ASPECT_ORB_OPPOSITION=8.0
ASPECT_ORB_TRINE=8.0
ASPECT_ORB_SQUARE=8.0
ASPECT_ORB_SEXTILE=6.0

# Дополнительные аспекты
ASPECT_ORB_QUINCUNX=3.0
ASPECT_ORB_SEMISEXTILE=2.0
```

### Настройка через код

Орбисы можно изменить программно:

```python
from services.astro_service import astro_service

# Получить текущие орбисы
orbs = astro_service.ORBS

# Получить орбис для конкретного аспекта
orb = astro_service.get_orb('conjunction')

# Установить новый орбис
astro_service.set_orb('conjunction', 10.0)

# Перезагрузить конфигурацию из переменных окружения
astro_service.reload_config()
```

### Другие настройки

В `config.py` также доступны:

- `DEFAULT_HOUSES_SYSTEM`: Система домов по умолчанию (переменная `DEFAULT_HOUSES_SYSTEM`)
- `DEFAULT_ZODIAC_TYPE`: Тип зодиака по умолчанию (переменная `DEFAULT_ZODIAC_TYPE`)
- `MIN_ORB_THRESHOLD`: Минимальный орбис для учета аспекта (переменная `MIN_ORB_THRESHOLD`)

### Пример использования

```python
# В .env файле
ASPECT_ORB_CONJUNCTION=10.0
ASPECT_ORB_SEXTILE=5.0

# В коде
from config import config

# Получить орбисы (учитывая переменные окружения)
orbs = config.get_orbs()
print(orbs['conjunction'])  # 10.0
print(orbs['sextile'])      # 5.0
```

### Структура конфигурации

Файл `config.py` содержит класс `AstrologyConfig` с методами:
- `get_orbs()`: Получить все орбисы
- `get_orb(aspect_name)`: Получить орбис для конкретного аспекта

### Приоритет настроек

1. Переменные окружения (высший приоритет)
2. Значения по умолчанию из `config.py`

### Рекомендуемые значения орбисов

Профессиональные стандарты:
- **Соединение, Оппозиция, Трин, Квадрат**: 8-10°
- **Секстиль**: 6-8°
- **Малые аспекты**: 2-3°

Для более строгих расчетов можно уменьшить орбисы:
- **Соединение, Оппозиция**: 6-8°
- **Трин, Квадрат**: 6-8°
- **Секстиль**: 4-6°

